{% extends 'base.html' %}
{% load crispy_forms_tags %}

{%  block content %}

<section class="p-4">
 <div class="container">
  <div class="row justify-content-center">
    <div class="col-md-7 col-sm-12">
       <div class="card my-card bg-light g-5 mb-3"> 
         <div class="card-title m-2">
           <div class="d-flex d-flex justify-content-between mb-1">
              <div>
                <img class="img img-fluid mt-3" src="{{ post.user_image.url }}" alt="user-image">
                 <span class="h5 my-4">{{ post.author }}</span>
              </div>
              <div>
                <a class="btn shadow-none" href="{% url 'update-post' post.pk %}"><i class="fas fa-edit text-info"></i></a>
                <a class="btn shadow-none" href="{% url 'delete-post' post.pk %}"><i class="fas fa-trash-alt text-danger"></i></a>
              </div>
           </div>
         </div>
          <img src="{{ post.get_post_image }}" class="img-fluid me-sm-0 m-lg-0 p-0 rounded" alt="...">
            <div class="mt-3 text-secondary">
                <div class="d-flex justify-content-evenly">
                    <div>
                       <button id="like" class="btn"><i class="fa fa-thumbs-up h4 text-secondary" aria-hidden="true"></i></button>
                       <span class="h5 mt-2">1</span>
                     </div>
                     <div>
                       <button id="deslike" class="btn"><i class="fa fa-thumbs-down h4 text-secondary" aria-hidden="true"></i></button>
                       <span class="h5 mt-2">{{ post.likes.all.count }}</span>
                     </div>
                     <div>
                       <span class="me-2"><i class="fa h4 fa-comment text-secondary" aria-hidden="true"></i></span>
                      <span class="h5">28</span>
                     </div>
                    <div>
                     <button class="btn"><i class="far h4 text-secondary fa-paper-plane px-5"></i></button>
                    </div>
                </div>

                <span class="bold px-4">{{ post.caption }}</span>
            </div>
            <div class="mt-0 mb-2">
                <div class="comments text-secondary">
                  {% for comment in comments %}
                    <p id="allcomments" class="text-dark"> {{ comment }} <span class="text-secondary">{{ comment.commented_on|timesince }} ago</span> </p>
                  {% endfor %}
                  </div>
                <form method="post" class="d-flex">
                  {% csrf_token %}
                    {{ form|crispy }}
                      <button type="submit" class="btn shadow-none btn-success rounded-pill px-2">comment</button>
                </form>
            </div>
         </div>
     </div>
   </div>
  </div>
</section>

{% endblock content %}